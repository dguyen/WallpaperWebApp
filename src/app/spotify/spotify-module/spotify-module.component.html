<div id="container">
	<div id="spotifyLogoContainer"> 
		<img id="spotifyLogo" src="../../assets/spotify_module/spotify-logo.png">
	</div>
	<div id="loading" *ngIf="loading">
		<div id="loadingTextContainer">
			{{ loadingText }}
		</div>
	</div>
	<div id="spotifyContainer">
		<div id="header">
			<div id='backContainer' *ngIf="currentView === 'songView'" (click)="changeView('playlistView')">
				<img id="backIcon" src="../../assets/img/baseline_arrow_back_ios_white_18dp.png">
			</div>	
		</div>
		<div id="bodyContainer">			
			<div id="playlists" *ngIf="currentView == 'playlistView'">
				<ul class="list-group">
					<li
						*ngFor="let playlist of playlists" 
						(click)="selectPlaylist(playlist)">
						
						<div id='playlistName' [ngClass]="{'selectedItem': playlist.uri === currentlyPlaying.playlistUri }">{{ playlist.name }}</div>
					</li>
				</ul>
			</div>
			<div id="songs" *ngIf="currentView == 'songView'">
				<ul class="list-group">
					<li 
						*ngFor="let i = index; let song of selectedPlaylist.tracks.items"
						[ngClass]="{'selectedItem': song.track.uri === currentlyPlaying.songUri }"
						(click)='playSong(song.track.uri, selectedPlaylist.uri)'>

						<div class='songNumber'>
							<span id='songText'>{{ i + 1 }}</span>
						</div>
						<div class='songInfomation'>
							<span id='songText'>{{ song.track.name }}</span>
							<div class='songArtists'>
								<span id='songText'>{{getArtistNames(song.track.artists)}}</span>
							</div>
						</div>
						<div class='songLength'>
							<span id='songArtists'>{{getDuration(song.track.duration_ms)}}</span>
						</div>
					</li>
				</ul>
			</div>
		</div>

		<!-- Footer -->
		<div id="musicController">
			<div id="musicButtonsContainer">
				<div class="musicButtons" (click)="toggleShuffle()">
					<svg id="shuffle" [ngClass]="{'buttonSelected': isShuffle }" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/></svg>
				</div>
				<div class="musicButtons" (click)="seek('previous')">
					<svg id='seekBack' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
				</div>
				<div class="musicButtons" (click)="toggleSong()">
					<svg id='playPause' *ngIf="!isPlaying" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
					<svg id='playPause' *ngIf="isPlaying" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"/></svg>
				</div>
				<div class="musicButtons" (click)="seek('next')">
					<svg id='seekNext' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
				</div>
				<div class="musicButtons" (click)="toggleRepeat()">
					<svg id="repeat" *ngIf="repeatState !== 'track'" [ngClass]="{'buttonSelected': repeatState !== 'off' }" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></svg>
					<svg id="repeat" *ngIf="repeatState === 'track'" style="fill: #00e600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"/></svg>
				</div>
			</div>
		</div> 
	</div>
</div>
